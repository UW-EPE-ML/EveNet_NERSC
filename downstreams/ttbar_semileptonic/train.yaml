platform:
  data_parquet_dir: "$PSCRATCH/Event_Level_Analysis/Pretrain_Parquet/SPANet/ttbar_semi_leptonic/train/"
  number_of_workers: 1
  resources_per_worker: {
    "CPU": 5,
    "GPU": 0,
  }
  batch_size: 128
  prefetch_batches: 1
  use_gpu: false

wandb:
  project: "spanet-tt1l"
  entity: "ytchou97-university-of-washington"
  name: "tt1l"
  tags: [ "Pretrain", "Parquet", "Mac", "TT1L" ]

options:
  default: configs/options.yaml

  # overwrites
  Training:
    total_epochs: 500
    epochs: 10
#    model_checkpoint_save_path: "/global/cfs/cdirs/m2616/avencast/Event_Level_Analysis/playground/checkpoints.full"
#    model_checkpoint_load_path: "/global/cfs/cdirs/m2616/avencast/Event_Level_Analysis/playground/checkpoints.full/best_epoch=2.ckpt"
    pretrain_model_load_path: null

    learning_rate: &lr 0.00025
    weight_decay: &wd 0.0001
    Components:
      GlobalEmbedding:
        learning_rate: *lr
        weight_decay: *wd
      PET:
        learning_rate: *lr
        weight_decay: *wd
      ObjectEncoder:
        learning_rate: *lr
        weight_decay: *wd
      Classification:
        include: false
        warm_up: true
        learning_rate: *lr
        weight_decay: *wd
      Regression:
        include: false
        warm_up: true
        learning_rate: *lr
        weight_decay: *wd
      Assignment:
        include: true
        warm_up: true
        learning_rate: *lr
        weight_decay: *wd
      GlobalGeneration:
        include: false
      EventGeneration:
        include: false

  Dataset:
    dataset_limit: 0.002
    normalization_file: "$PSCRATCH/Event_Level_Analysis/Pretrain_Parquet/SPANet/ttbar_semi_leptonic/train/normalization.pt"

network:
  default: configs/model.yaml

  # overwrites
  # ...

event_info:
  default: configs/event_info.yaml

  # overwrites
  # ...

resonance:
  default: configs/resonance.yaml

  # overwrites
  # ...